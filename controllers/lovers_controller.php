<?php
$homme = [
	[
		"nom" =>  "Gamble",
		"prenom" =>  "Gary",
		"age" =>  92,
		"genre" =>  1,
		"email" =>  "in.tempus.eu@yahoo.couk",
		"postalZip" =>  "51367",
		"picture" => "gamblegary.jpg",
		"address" =>  "4991 Porttitor Road",
		"description" =>  "Walter Mathews"
	],
	[
		"nom" =>  "Powers",
		"prenom" =>  "Chaney",
		"age" =>  23,
		"genre" =>  1,
		"email" =>  "erat.volutpat@outlook.ca",
		"postalZip" =>  "41251",
		"picture" => "powerschaney.jpg",
		"address" =>  "Ap #948-2759 In Rd.",
		"description" =>  "Zachery Shepherd"
	],
	[
		"nom" =>  "Bridges",
		"prenom" =>  "Holmes",
		"age" =>  26,
		"genre" =>  1,
		"email" =>  "nunc.lectus.pede@aol.com",
		"postalZip" =>  "31865",
		"picture" => "bridgesholmes.jpg",
		"address" =>  "596-9167 Metus Ave",
		"description" =>  "Keaton Webster"
	],
	[
		"nom" =>  "Cantrell",
		"prenom" =>  "Walker",
		"age" =>  33,
		"genre" =>  1,
		"email" =>  "tempor.augue.ac@hotmail.ca",
		"postalZip" =>  "79560",
		"picture" => "cantrellwalker.jpg",
		"address" =>  "452-8075 Auctor Avenue",
		"description" =>  "Hayes Humphrey"
	],
	[
		"nom" =>  "Morrow",
		"prenom" =>  "Logan",
		"age" =>  71,
		"genre" =>  1,
		"email" =>  "est@hotmail.org",
		"postalZip" =>  "15228",
		"picture" => "morrowlogan.jpg",
		"address" =>  "P.O. Box 654, 3615 Euismod Avenue",
		"description" =>  "Cally Hicks"
	],
	[
		"nom" =>  "Weeks",
		"prenom" =>  "Rahim",
		"age" =>  81,
		"genre" =>  1,
		"email" =>  "sem@yahoo.com",
		"postalZip" =>  "51242",
		"picture" => "weeksrahin.jpg",
		"address" =>  "Ap #537-8219 Quis, Av.",
		"description" =>  "Raymond Chase"
	],
	[
		"nom" =>  "Fox",
		"prenom" =>  "Aidan",
		"age" =>  67,
		"genre" =>  1,
		"email" =>  "fusce@google.net",
		"postalZip" =>  "74814",
		"picture" => "foxaidan.jpg",
		"address" =>  "Ap #810-7183 In Rd.",
		"description" =>  "Zenia Boyd"
	],
	[
		"nom" =>  "Leon",
		"prenom" =>  "Quinlan",
		"age" =>  61,
		"genre" =>  1,
		"email" =>  "felis@yahoo.edu",
		"postalZip" =>  "83164",
		"picture" => "leonquinlan.jpg",
		"address" =>  "P.O. Box 866, 9047 Scelerisque Av.",
		"description" =>  "Eve Watts"
	],
	[
		"nom" =>  "England",
		"prenom" =>  "Vladimir",
		"age" =>  87,
		"genre" =>  1,
		"email" =>  "turpis.nulla.aliquet@icloud.couk",
		"postalZip" =>  "81940",
		"picture" => "englandvladimir.jpg",
		"address" =>  "649-9762 Dictum Rd.",
		"description" =>  "Bethany Hendricks"
	],
	[
		"nom" =>  "Moore",
		"prenom" =>  "Flynn",
		"age" =>  99,
		"genre" =>  1,
		"email" =>  "eu.arcu@outlook.couk",
		"postalZip" =>  "57137",
		"picture" => "mooreflynn.jpg",
		"address" =>  "Ap #909-1216 Aliquet Av.",
		"description" =>  "Odette Barrett"
	]
];

$femme = [
	[
		"nom" =>  "Hopper",
		"prenom" =>  "Amena",
		"age" =>  25,
		"genre" =>  0,
		"email" =>  "vel.turpis@yahoo.couk",
		"postalZip" =>  "68133",
		"picture" => "hopperamena.jpg",
		"address" =>  "503-202 Nunc Street",
		"description" =>  "Zena Lyons"
	],
	[
		"nom" =>  "Bowen",
		"prenom" =>  "Molly",
		"age" =>  83,
		"genre" =>  0,
		"email" =>  "orci.sem@aol.edu",
		"postalZip" =>  "52275",
		"picture" => "bowenmolly.jpg",
		"address" =>  "738-8501 Enim. Rd.",
		"description" =>  "Illana Russell"
	],
	[
		"nom" =>  "Hendricks",
		"prenom" =>  "Xyla",
		"age" =>  12,
		"genre" =>  0,
		"email" =>  "curabitur.sed@yahoo.com",
		"postalZip" =>  "88394",
		"picture" => "hendricksxyla.jpg",
		"address" =>  "328-917 Vestibulum Road",
		"description" =>  "Nolan Clarke"
	],
	[
		"nom" =>  "Peck",
		"prenom" =>  "Nelle",
		"age" =>  46,
		"genre" =>  0,
		"email" =>  "augue.scelerisque.mollis@hotmail.net",
		"postalZip" =>  "38330",
		"picture" => "pecknelle.jpg",
		"address" =>  "Ap #545-3458 Suspendisse Ave",
		"description" =>  "Raja Warren"
	],
	[
		"nom" =>  "Haynes",
		"prenom" =>  "Ima",
		"age" =>  15,
		"genre" =>  0,
		"email" =>  "ornare@protonmail.net",
		"postalZip" =>  "18776",
		"picture" => "haynesima.jpg",
		"address" =>  "P.O. Box 540, 1591 Nec, Ave",
		"description" =>  "Hedda Woodard"
	],
	[
		"nom" =>  "Russo",
		"prenom" =>  "Jenna",
		"age" =>  23,
		"genre" =>  0,
		"email" =>  "non.enim@aol.ca",
		"postalZip" =>  "59445",
		"picture" => "russojenna.jpg",
		"address" =>  "161-8327 Semper Road",
		"description" =>  "Nicholas Kent"
	],
	[
		"nom" =>  "Kirkland",
		"prenom" =>  "Hadassah",
		"age" =>  37,
		"genre" =>  0,
		"email" =>  "metus@icloud.ca",
		"postalZip" =>  "90405",
		"picture" => "kirklandhadassah.jpg",
		"address" =>  "160-479 Eleifend Road",
		"description" =>  "Vaughan O'connor"
	],
	[
		"nom" =>  "Carlson",
		"prenom" =>  "Scarlet",
		"age" =>  28,
		"genre" =>  0,
		"email" =>  "integer.sem@aol.edu",
		"postalZip" =>  "12452",
		"picture" => "carlsonscarlet.jpg",
		"address" =>  "Ap #822-5216 Fermentum Road",
		"description" =>  "Timothy Barnes"
	],
	[
		"nom" =>  "Bradley",
		"prenom" =>  "Raven",
		"age" =>  54,
		"genre" =>  0,
		"email" =>  "mauris.suspendisse@yahoo.couk",
		"postalZip" =>  "61976",
		"picture" => "bradleyraven.jpg",
		"address" =>  "Ap #421-6717 Morbi Avenue",
		"description" =>  "Debra Mercado"
	],
	[
		"nom" =>  "Cortez",
		"prenom" =>  "McKenzie",
		"age" =>  26,
		"genre" =>  0,
		"email" =>  "lorem.eu@outlook.net",
		"postalZip" =>  "71035",
		"picture" => "cortezmckenzie.jpg",
		"address" =>  "284-7291 Non, Road",
		"description" =>  "Graiden Blackburn"
	]
];

foreach ($femme as $key => $value) {
	foreach ($value as $clef => $valeur) {
		// echo $clef . " => " . $valeur;
		
	}
}

function creationDesCard($genre, $homme, $femme) {
	// Par defaut lors de la creation le like est à 0 si like passe à 1
	$like=0;

	// Si l'utilisateur clique sur les hommes, affichage de tous les hommes
	if($genre == 1) {
		foreach ($homme as $key => $value) {
			creationCard($value['picture'], $value['nom'], $value['prenom'], $value['age'], $value['postalZip'],$value['description']);
		}
	}
	// Si l'utilisateur clique sur les hommes, affichage de tous les hommes
	else if($genre == 0) {
		foreach ($femme as $key => $value) {
			creationCard($value['picture'], $value['nom'], $value['prenom'], $value['age'], $value['postalZip'],$value['description']);
		}
	} 
}


function creationCard($image,$nom,$prenom,$age,$codePostal,$desc) {
	?>	
		<div class="col">
			<div class="card">
				<img src="../assets/img/<?=$image ?>" class="card-img-top " alt="<?= $image ?>">
				<div class="card-header">
					<div class="row h3">
						<div class="col-9 ">	
							<h4><?= $prenom?></h4>
							<h4 class="text-secondary"><?= $nom ?></h4>
							
						</div>  
						<div class="col-3 text-end h4">
							<?= $age ?>
						</div>
					</div>
				</div>
				<div class="card-body">
					<div class="row p-2 m-2">
						<p class="card-text text-start fs-5 p-2">
							<?= $desc ?>
						</p>
					</div>
					<!-- A revoir car un soucis avec les like -->
					<div class="row text-center">
						<?php
						if(!isset($_POST[$nom])) {
							if (!isset($_COOKIE[$nom])) {
								?>
									<form method ="POST"  name="like" action="#" >
										<button type="submit" class="border border-0 " name="<?= $nom ?>">
											<i class="bi bi-emoji-heart-eyes iconheart"></i>
										</button>
									</form>
								<?php

							} else {
								?>
									<button  type="submit" class="border border-0 text-danger">
										<i class="bi bi-emoji-heart-eyes-fill iconheart"></i>
									</button>
								<?php
							}
						}
						
						if (isset($_POST[$nom])) {
							if (!isset($_COOKIE[$nom])) {
								setcookie($nom,true,time()+3600*24);
								?>
									<button  type="submit" class="border border-0 text-danger">
										<i class="bi bi-emoji-heart-eyes-fill iconheart"></i>
									</button>
								<?php
							} else {
								setcookie($nom,false,time()-3600*24);
								?>
									<form method ="POST"  name="like" action="#" >
										<button type="submit" class="border border-0" name="<?= $nom ?>">
											<i class="bi bi-emoji-heart-eyes iconheart"></i>
										</button>
									</form>
								<?php
							}
						}
						?>
					</div>
				</div>
				<div class="card-footer h3 text-center">
					<?= $codePostal ?>
				</div>
			</div>
		</div>
	<?php
}
?>